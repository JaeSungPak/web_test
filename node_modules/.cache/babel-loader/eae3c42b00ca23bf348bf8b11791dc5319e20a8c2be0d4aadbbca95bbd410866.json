{"ast":null,"code":"var _jsxFileName = \"/Users/parkjaesung/Documents/GitHub/mingle_ai_web/src/modules/toMesh/components/Notification.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Toaster, toast } from \"react-hot-toast\";\nimport { requestPermission, onMessageListener } from \"modules/toMesh/notification/firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Notification() {\n  _s();\n  const [notification, setNotification] = useState({\n    title: \"\",\n    body: \"\"\n  });\n  useEffect(() => {\n    requestPermission();\n    const unsubscribe = onMessageListener().then(payload => {\n      var _payload$notification, _payload$notification2, _payload$notification3, _payload$notification4;\n      setNotification({\n        title: payload === null || payload === void 0 ? void 0 : (_payload$notification = payload.notification) === null || _payload$notification === void 0 ? void 0 : _payload$notification.title,\n        body: payload === null || payload === void 0 ? void 0 : (_payload$notification2 = payload.notification) === null || _payload$notification2 === void 0 ? void 0 : _payload$notification2.body\n      });\n      toast.success(`${payload === null || payload === void 0 ? void 0 : (_payload$notification3 = payload.notification) === null || _payload$notification3 === void 0 ? void 0 : _payload$notification3.title}: ${payload === null || payload === void 0 ? void 0 : (_payload$notification4 = payload.notification) === null || _payload$notification4 === void 0 ? void 0 : _payload$notification4.body}`, {\n        duration: 60000,\n        position: \"top-right\"\n      });\n    });\n    return () => {\n      unsubscribe.catch(err => console.log(\"failed: \", err));\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Notification, \"CalJBYTEvBu+nI+Kflm9FaxP42E=\");\n_c = Notification;\nexport default Notification;\nvar _c;\n$RefreshReg$(_c, \"Notification\");","map":{"version":3,"names":["React","useState","useEffect","Toaster","toast","requestPermission","onMessageListener","jsxDEV","_jsxDEV","Notification","_s","notification","setNotification","title","body","unsubscribe","then","payload","_payload$notification","_payload$notification2","_payload$notification3","_payload$notification4","success","duration","position","catch","err","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/parkjaesung/Documents/GitHub/mingle_ai_web/src/modules/toMesh/components/Notification.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Toaster, toast } from \"react-hot-toast\";\nimport {\n  requestPermission,\n  onMessageListener,\n} from \"modules/toMesh/notification/firebase\";\n\nfunction Notification() {\n  const [notification, setNotification] = useState({ title: \"\", body: \"\" });\n  useEffect(() => {\n    requestPermission();\n    const unsubscribe = onMessageListener().then((payload) => {\n      setNotification({\n        title: payload?.notification?.title,\n        body: payload?.notification?.body,\n      });\n      toast.success(\n        `${payload?.notification?.title}: ${payload?.notification?.body}`,\n        {\n          duration: 60000,\n          position: \"top-right\",\n        }\n      );\n    });\n    return () => {\n      unsubscribe.catch((err) => console.log(\"failed: \", err));\n    };\n  }, []);\n  return (\n    <div>\n      <Toaster />\n    </div>\n  );\n}\nexport default Notification;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,KAAK,QAAQ,iBAAiB;AAChD,SACEC,iBAAiB,EACjBC,iBAAiB,QACZ,sCAAsC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC;IAAEY,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;EACzEZ,SAAS,CAAC,MAAM;IACdG,iBAAiB,CAAC,CAAC;IACnB,MAAMU,WAAW,GAAGT,iBAAiB,CAAC,CAAC,CAACU,IAAI,CAAEC,OAAO,IAAK;MAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MACxDT,eAAe,CAAC;QACdC,KAAK,EAAEI,OAAO,aAAPA,OAAO,wBAAAC,qBAAA,GAAPD,OAAO,CAAEN,YAAY,cAAAO,qBAAA,uBAArBA,qBAAA,CAAuBL,KAAK;QACnCC,IAAI,EAAEG,OAAO,aAAPA,OAAO,wBAAAE,sBAAA,GAAPF,OAAO,CAAEN,YAAY,cAAAQ,sBAAA,uBAArBA,sBAAA,CAAuBL;MAC/B,CAAC,CAAC;MACFV,KAAK,CAACkB,OAAO,CACV,GAAEL,OAAO,aAAPA,OAAO,wBAAAG,sBAAA,GAAPH,OAAO,CAAEN,YAAY,cAAAS,sBAAA,uBAArBA,sBAAA,CAAuBP,KAAM,KAAII,OAAO,aAAPA,OAAO,wBAAAI,sBAAA,GAAPJ,OAAO,CAAEN,YAAY,cAAAU,sBAAA,uBAArBA,sBAAA,CAAuBP,IAAK,EAAC,EACjE;QACES,QAAQ,EAAE,KAAK;QACfC,QAAQ,EAAE;MACZ,CACF,CAAC;IACH,CAAC,CAAC;IACF,OAAO,MAAM;MACXT,WAAW,CAACU,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,GAAG,CAAC,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,oBACElB,OAAA;IAAAqB,QAAA,eACErB,OAAA,CAACL,OAAO;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEV;AAACvB,EAAA,CA1BQD,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AA2BrB,eAAeA,YAAY;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}