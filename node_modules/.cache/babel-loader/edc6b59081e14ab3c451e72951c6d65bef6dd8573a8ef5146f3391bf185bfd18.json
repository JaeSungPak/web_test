{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nimport { registerServiceWorker } from \"modules/toMesh/notification/notification\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBn9tebNSE_zHtdF9XeHpp-NF8fh1Yp-Ys\",\n  authDomain: \"notice-test-faa28.firebaseapp.com\",\n  projectId: \"notice-test-faa28\",\n  storageBucket: \"notice-test-faa28.appspot.com\",\n  messagingSenderId: \"926284303091\",\n  appId: \"1:926284303091:web:98b5e02104f116b2b94586\",\n  measurementId: \"G-DVET9T6B55\"\n};\nconst app = initializeApp(firebaseConfig);\nconst messaging = getMessaging(app);\nexport const requestPermission = () => {\n  console.log(\"Requesting User Permission......\");\n  Notification.requestPermission().then(permission => {\n    if (permission === \"granted\") {\n      console.log(\"Notification User Permission Granted.\");\n      return getToken(messaging, {\n        vapidKey: `BGfrX6d_KXc_Q3f_EDOfQ0Gjg7NqhYF0GwWNYluu5ce6jR4ajXK4vOni4vQ_7-9VSAT8sUKLTYVWTH2VcBr5pRM`\n      }).then(currentToken => {\n        if (currentToken) {\n          console.log(\"Client Token: \", currentToken);\n        } else {\n          console.log(\"Failed to generate the app registration token.\");\n        }\n      }).catch(err => {\n        console.log(\"An error occurred when requesting to receive the token.\", err);\n      });\n    } else {\n      console.log(\"User Permission Denied.\");\n    }\n  });\n};\nexport const onMessageListener = () => new Promise(resolve => {\n  onMessage(messaging, payload => {\n    resolve(payload);\n  });\n});","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","registerServiceWorker","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","messaging","requestPermission","console","log","Notification","then","permission","vapidKey","currentToken","catch","err","onMessageListener","Promise","resolve","payload"],"sources":["/Users/parkjaesung/Documents/GitHub/mingle_ai_web/src/modules/toMesh/notification/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nimport { registerServiceWorker } from \"modules/toMesh/notification/notification\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBn9tebNSE_zHtdF9XeHpp-NF8fh1Yp-Ys\",\n  authDomain: \"notice-test-faa28.firebaseapp.com\",\n  projectId: \"notice-test-faa28\",\n  storageBucket: \"notice-test-faa28.appspot.com\",\n  messagingSenderId: \"926284303091\",\n  appId: \"1:926284303091:web:98b5e02104f116b2b94586\",\n  measurementId: \"G-DVET9T6B55\",\n};\n\nconst app = initializeApp(firebaseConfig);\nconst messaging = getMessaging(app);\n\nexport const requestPermission = () => {\n  console.log(\"Requesting User Permission......\");\n  Notification.requestPermission().then((permission) => {\n    if (permission === \"granted\") {\n      console.log(\"Notification User Permission Granted.\");\n      return getToken(messaging, {\n        vapidKey: `BGfrX6d_KXc_Q3f_EDOfQ0Gjg7NqhYF0GwWNYluu5ce6jR4ajXK4vOni4vQ_7-9VSAT8sUKLTYVWTH2VcBr5pRM`,\n      })\n        .then((currentToken) => {\n          if (currentToken) {\n            console.log(\"Client Token: \", currentToken);\n          } else {\n            console.log(\"Failed to generate the app registration token.\");\n          }\n        })\n        .catch((err) => {\n          console.log(\n            \"An error occurred when requesting to receive the token.\",\n            err\n          );\n        });\n    } else {\n      console.log(\"User Permission Denied.\");\n    }\n  });\n};\n\nexport const onMessageListener = () =>\n  new Promise((resolve) => {\n    onMessage(messaging, (payload) => {\n      resolve(payload);\n    });\n  });\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AACtE,SAASC,qBAAqB,QAAQ,0CAA0C;AAEhF,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,mCAAmC;EAC/CC,SAAS,EAAE,mBAAmB;EAC9BC,aAAa,EAAE,+BAA+B;EAC9CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,GAAG,GAAGb,aAAa,CAACK,cAAc,CAAC;AACzC,MAAMS,SAAS,GAAGb,YAAY,CAACY,GAAG,CAAC;AAEnC,OAAO,MAAME,iBAAiB,GAAGA,CAAA,KAAM;EACrCC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;EAC/CC,YAAY,CAACH,iBAAiB,CAAC,CAAC,CAACI,IAAI,CAAEC,UAAU,IAAK;IACpD,IAAIA,UAAU,KAAK,SAAS,EAAE;MAC5BJ,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;MACpD,OAAOf,QAAQ,CAACY,SAAS,EAAE;QACzBO,QAAQ,EAAG;MACb,CAAC,CAAC,CACCF,IAAI,CAAEG,YAAY,IAAK;QACtB,IAAIA,YAAY,EAAE;UAChBN,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEK,YAAY,CAAC;QAC7C,CAAC,MAAM;UACLN,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;QAC/D;MACF,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,IAAK;QACdR,OAAO,CAACC,GAAG,CACT,yDAAyD,EACzDO,GACF,CAAC;MACH,CAAC,CAAC;IACN,CAAC,MAAM;MACLR,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACxC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMQ,iBAAiB,GAAGA,CAAA,KAC/B,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvBxB,SAAS,CAACW,SAAS,EAAGc,OAAO,IAAK;IAChCD,OAAO,CAACC,OAAO,CAAC;EAClB,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}