{"ast":null,"code":"var _s = $RefreshSig$();\nimport { onMessageListener, requestPermission } from \"modules/toMesh/components/firebase-messaging-sw\";\nimport { useEffect, useState } from \"react\";\nexport function Notification() {\n  _s();\n  const [notification, setNotification] = useState({\n    title: \"\",\n    body: \"\"\n  });\n  useEffect(() => {\n    requestPermission();\n    const unsubscribe = onMessageListener().then(payload => {\n      var _payload$notification, _payload$notification2;\n      setNotification({\n        title: payload === null || payload === void 0 ? void 0 : (_payload$notification = payload.notification) === null || _payload$notification === void 0 ? void 0 : _payload$notification.title,\n        body: payload === null || payload === void 0 ? void 0 : (_payload$notification2 = payload.notification) === null || _payload$notification2 === void 0 ? void 0 : _payload$notification2.body\n      });\n    });\n    return () => {\n      unsubscribe.catch(err => console.log(\"error: \", err));\n    };\n  }, []);\n}\n_s(Notification, \"wnMgSth0UPI9ozGFFdL2ffUgf0g=\");\n_c = Notification;\nvar _c;\n$RefreshReg$(_c, \"Notification\");","map":{"version":3,"names":["onMessageListener","requestPermission","useEffect","useState","Notification","_s","notification","setNotification","title","body","unsubscribe","then","payload","_payload$notification","_payload$notification2","catch","err","console","log","_c","$RefreshReg$"],"sources":["/Users/parkjaesung/Documents/GitHub/mingle_ai_web/src/modules/toMesh/components/Notification.ts"],"sourcesContent":["import {\n  onMessageListener,\n  requestPermission,\n} from \"modules/toMesh/components/firebase-messaging-sw\";\nimport React, { useEffect, useState } from \"react\";\n\ninterface IPayload {\n  notification?: INotification;\n}\ninterface INotification {\n  title?: string;\n  body?: string;\n}\n\nexport function Notification() {\n  const [notification, setNotification] = useState<INotification>({\n    title: \"\",\n    body: \"\",\n  });\n  useEffect(() => {\n    requestPermission();\n    const unsubscribe = onMessageListener().then((payload: any) => {\n      setNotification({\n        title: payload?.notification?.title,\n        body: payload?.notification?.body,\n      });\n    });\n\n    return () => {\n      unsubscribe.catch((err) => console.log(\"error: \", err));\n    };\n  }, []);\n}\n"],"mappings":";AAAA,SACEA,iBAAiB,EACjBC,iBAAiB,QACZ,iDAAiD;AACxD,SAAgBC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAUlD,OAAO,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGJ,QAAQ,CAAgB;IAC9DK,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE;EACR,CAAC,CAAC;EACFP,SAAS,CAAC,MAAM;IACdD,iBAAiB,CAAC,CAAC;IACnB,MAAMS,WAAW,GAAGV,iBAAiB,CAAC,CAAC,CAACW,IAAI,CAAEC,OAAY,IAAK;MAAA,IAAAC,qBAAA,EAAAC,sBAAA;MAC7DP,eAAe,CAAC;QACdC,KAAK,EAAEI,OAAO,aAAPA,OAAO,wBAAAC,qBAAA,GAAPD,OAAO,CAAEN,YAAY,cAAAO,qBAAA,uBAArBA,qBAAA,CAAuBL,KAAK;QACnCC,IAAI,EAAEG,OAAO,aAAPA,OAAO,wBAAAE,sBAAA,GAAPF,OAAO,CAAEN,YAAY,cAAAQ,sBAAA,uBAArBA,sBAAA,CAAuBL;MAC/B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,OAAO,MAAM;MACXC,WAAW,CAACK,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,GAAG,CAAC,CAAC;IACzD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR;AAACX,EAAA,CAlBeD,YAAY;AAAAe,EAAA,GAAZf,YAAY;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}