{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBn9tebNSE_zHtdF9XeHpp-NF8fh1Yp-Ys\",\n  authDomain: \"notice-test-faa28.firebaseapp.com\",\n  projectId: \"notice-test-faa28\",\n  storageBucket: \"notice-test-faa28.appspot.com\",\n  messagingSenderId: \"926284303091\",\n  appId: \"1:926284303091:web:98b5e02104f116b2b94586\",\n  measurementId: \"G-DVET9T6B55\"\n};\nconst app = initializeApp(firebaseConfig);\nconst messaging = null;\nif (window.location.hostname == \"localhost\" || window.location.hostname == \"127.0.0.1\" || windows.location.protocol == \"https:\") {\n  const app = initializeApp(firebaseConfig);\n  const messaging = getMessaging();\n}\nexport const requestForToken = () => {\n  if (window.location.hostname == \"localhost\" || window.location.hostname == \"127.0.0.1\" || windows.location.protocol == \"https:\") {\n    return getToken(messaging, {\n      vapidKey: \"key\"\n    }).then(currentToken => {\n      if (currentToken) {\n        console.log(\"current token for client: \", currentToken);\n        localStorage.setItem(\"fcm_token\", currentToken);\n        // Perform any other neccessary action with the token\n      } else {\n        // Show permission request UI\n        console.log(\"No registration token available. Request permission to generate one.\");\n      }\n    }).catch(err => {\n      console.log(\"An error occurred while retrieving token. \", err);\n    });\n  } else {\n    console.log(\"Unsopperted browser\");\n  }\n};\nexport const onMessageListener = () => {\n  if (window.location.hostname == \"localhost\" || window.location.hostname == \"127.0.0.1\" || windows.location.protocol == \"https:\") {\n    return new Promise(resolve => {\n      onMessage(messaging, payload => {\n        console.log(\"payload\", payload);\n        resolve(payload);\n      });\n    });\n  } else {\n    new Promise(resolve => {\n      resolve(\"Unsopperted browser\");\n    });\n  }\n};","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","messaging","window","location","hostname","windows","protocol","requestForToken","vapidKey","then","currentToken","console","log","localStorage","setItem","catch","err","onMessageListener","Promise","resolve","payload"],"sources":["/Users/parkjaesung/Documents/GitHub/mingle_ai_web/src/modules/toMesh/notification/firebase.jsx"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBn9tebNSE_zHtdF9XeHpp-NF8fh1Yp-Ys\",\n  authDomain: \"notice-test-faa28.firebaseapp.com\",\n  projectId: \"notice-test-faa28\",\n  storageBucket: \"notice-test-faa28.appspot.com\",\n  messagingSenderId: \"926284303091\",\n  appId: \"1:926284303091:web:98b5e02104f116b2b94586\",\n  measurementId: \"G-DVET9T6B55\",\n};\nconst app = initializeApp(firebaseConfig);\nconst messaging = null;\nif (\n  window.location.hostname == \"localhost\" ||\n  window.location.hostname == \"127.0.0.1\" ||\n  windows.location.protocol == \"https:\"\n) {\n  const app = initializeApp(firebaseConfig);\n\n  const messaging = getMessaging();\n}\n\nexport const requestForToken = () => {\n  if (\n    window.location.hostname == \"localhost\" ||\n    window.location.hostname == \"127.0.0.1\" ||\n    windows.location.protocol == \"https:\"\n  ) {\n    return getToken(messaging, { vapidKey: \"key\" })\n      .then((currentToken) => {\n        if (currentToken) {\n          console.log(\"current token for client: \", currentToken);\n          localStorage.setItem(\"fcm_token\", currentToken);\n          // Perform any other neccessary action with the token\n        } else {\n          // Show permission request UI\n          console.log(\n            \"No registration token available. Request permission to generate one.\"\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(\"An error occurred while retrieving token. \", err);\n      });\n  } else {\n    console.log(\"Unsopperted browser\");\n  }\n};\n\nexport const onMessageListener = () => {\n  if (\n    window.location.hostname == \"localhost\" ||\n    window.location.hostname == \"127.0.0.1\" ||\n    windows.location.protocol == \"https:\"\n  ) {\n    return new Promise((resolve) => {\n      onMessage(messaging, (payload) => {\n        console.log(\"payload\", payload);\n        resolve(payload);\n      });\n    });\n  } else {\n    new Promise((resolve) => {\n      resolve(\"Unsopperted browser\");\n    });\n  }\n};\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AACtE,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,mCAAmC;EAC/CC,SAAS,EAAE,mBAAmB;EAC9BC,aAAa,EAAE,+BAA+B;EAC9CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AACD,MAAMC,GAAG,GAAGZ,aAAa,CAACI,cAAc,CAAC;AACzC,MAAMS,SAAS,GAAG,IAAI;AACtB,IACEC,MAAM,CAACC,QAAQ,CAACC,QAAQ,IAAI,WAAW,IACvCF,MAAM,CAACC,QAAQ,CAACC,QAAQ,IAAI,WAAW,IACvCC,OAAO,CAACF,QAAQ,CAACG,QAAQ,IAAI,QAAQ,EACrC;EACA,MAAMN,GAAG,GAAGZ,aAAa,CAACI,cAAc,CAAC;EAEzC,MAAMS,SAAS,GAAGZ,YAAY,CAAC,CAAC;AAClC;AAEA,OAAO,MAAMkB,eAAe,GAAGA,CAAA,KAAM;EACnC,IACEL,MAAM,CAACC,QAAQ,CAACC,QAAQ,IAAI,WAAW,IACvCF,MAAM,CAACC,QAAQ,CAACC,QAAQ,IAAI,WAAW,IACvCC,OAAO,CAACF,QAAQ,CAACG,QAAQ,IAAI,QAAQ,EACrC;IACA,OAAOhB,QAAQ,CAACW,SAAS,EAAE;MAAEO,QAAQ,EAAE;IAAM,CAAC,CAAC,CAC5CC,IAAI,CAAEC,YAAY,IAAK;MACtB,IAAIA,YAAY,EAAE;QAChBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,YAAY,CAAC;QACvDG,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,YAAY,CAAC;QAC/C;MACF,CAAC,MAAM;QACL;QACAC,OAAO,CAACC,GAAG,CACT,sEACF,CAAC;MACH;IACF,CAAC,CAAC,CACDG,KAAK,CAAEC,GAAG,IAAK;MACdL,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEI,GAAG,CAAC;IAChE,CAAC,CAAC;EACN,CAAC,MAAM;IACLL,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EACpC;AACF,CAAC;AAED,OAAO,MAAMK,iBAAiB,GAAGA,CAAA,KAAM;EACrC,IACEf,MAAM,CAACC,QAAQ,CAACC,QAAQ,IAAI,WAAW,IACvCF,MAAM,CAACC,QAAQ,CAACC,QAAQ,IAAI,WAAW,IACvCC,OAAO,CAACF,QAAQ,CAACG,QAAQ,IAAI,QAAQ,EACrC;IACA,OAAO,IAAIY,OAAO,CAAEC,OAAO,IAAK;MAC9B5B,SAAS,CAACU,SAAS,EAAGmB,OAAO,IAAK;QAChCT,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEQ,OAAO,CAAC;QAC/BD,OAAO,CAACC,OAAO,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,IAAIF,OAAO,CAAEC,OAAO,IAAK;MACvBA,OAAO,CAAC,qBAAqB,CAAC;IAChC,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}